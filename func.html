<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Tester</title>
<script>


console.log("INLINE\narray.mapi:\n" + 
([1, 2, 3].map(function (value, index) {
  console.log("in map closure for x: " + value + "idx: " + index );
  return (value * 2)
})))

console.log("INLINE\nobj.map: ?????\n" + 
(Object.entries({ 'a': 1, 'b': 2, 'c': 3 }).map(function ([key, value], index) {
  console.log("obj.map-> val: " + value + " indx: " + index);
  return (value * 2)
})))

console.log("INLINE\narray.reduce:\n" + 
[0, 1, 2, 3, 4].reduce(function (previousValue, currentValue, currentIndex, array) {
  return previousValue + currentValue
}))

var array = [1, 2, 3]
console.log("array.rev:\n" + array.reverse())

var array = [1]
var other = array.concat(2, [3], [[4]])
console.log(other)

console.log("INLINE\narray.concat:\n" + 
[].concat(2, [3], [[4]]))

var array = [2, 9, 9]
var result = array.indexOf(2)
console.log("INLINE\narray.indexOf:\n" + result)

var users = [
  { 'user': 'barney',  'age': 36, 'active': true },
  { 'user': 'fred',    'age': 40, 'active': false },
  { 'user': 'pebbles', 'age': 1,  'active': true }
]

var index = users.findIndex(function (o) { return o.age >= 40; })
console.log("array.findIndex:\n" + index)

function isBigEnough (value) {
  return value >= 10
}
var array = [12, 5, 8, 130, 44]
var filtered = array.filter(isBigEnough)
console.log("INLINE\narray.filter:\n" + filtered)

//fns below nd 'use moz' or 'use esnext'

const fruits = [
  {name:"banana", amount: 2},
  {name:"apple", amount: 4},
  {name:"pineapple", amount: 2},
  {name:"mango", amount: 1}
];

const sortBy = (key) => {
  return (a, b) => (a[key] > b[key]) ? 1 : ((b[key] > a[key]) ? -1 : 0);
};

// The native sort modifies the array in place, so we
// use `.concat()` to copy the array, then sort.
console.log("INLINE\narray.orderBy:\n" + 
fruits.concat().sort(sortBy("name")));

const flattenDeep = (arr) => Array.isArray(arr)
  ? arr.reduce( (a, b) => a.concat(flattenDeep(b)) , [])
  : [arr]

console.log("INLINE\narray.flattenDeep:\n" + flattenDeep([1, [[2], [3, [4]], 5]]))


const [ head, ...tail ] = array
console.log("head:\n" + head)
// output: 1
console.log("tail:\n" + tail)
// output [2, 3]

var array = [1, 2, 1, 4, 1, 3];
var result = [...new Set(array)];
console.log("INLINE\narray.unique:\n" + result)

</script>
</head>
<body>

***<br>
***<br>
***<br>
***<br>
***<br>

</body>
</html>
